<!DOCTYPE html>
<html>
<head>
  <title>RBX API Checker</title>
  <style>
    body { font-family: Arial; padding: 20px; }
    #log {
      background: #111; color: lime; padding: 10px;
      height: 300px; overflow-y: auto; white-space: pre-wrap;
    }
    h2 { margin-bottom: 10px; }
  </style>
</head>
<body>
  <h2>RBX API Checker Logs</h2>
  <p>Backend runs automatically every minute. Frontend shows logs here:</p>
  <div id="log">Loading logs...</div>

  <script>
    const logBox = document.getElementById("log");

    function log(msg) {
      const t = new Date().toLocaleTimeString();
      logBox.textContent += `\n[${t}] ${msg}`;
      logBox.scrollTop = logBox.scrollHeight;
    }

    async function fetchLog() {
      try {
        const res = await fetch("/api/checker");
        const json = await res.json();

        if (json.status === "OK") log("✅ OK");
        else if (json.status === "ERROR") log("❌ ERROR — Sent to Discord");
        else log("⚠️ FAIL — API Error");
      } catch (err) {
        log("❌ FETCH FAILED");
      }
    }

    // Fetch logs automatically every minute
    fetchLog(); // initial fetch
    setInterval(fetchLog, 60000); // repeat every minute
  </script>
</body>
</html>
