<!DOCTYPE html>
<html>
<head>
  <title>RBX API Checker (Vercel)</title>
  <style>
    body { font-family: Arial; padding: 20px; }
    #log {
      background: #111; color: lime; padding: 10px;
      height: 300px; overflow-y: auto; white-space: pre-wrap;
    }
  </style>
</head>
<body>
  <h2>RBX API Checker (trigger manually)</h2>
  <button id="checkBtn">Check Now</button>
  <div id="log">Logs will appear here...</div>

  <script>
    const logBox = document.getElementById("log");
    const checkBtn = document.getElementById("checkBtn");

    function log(msg) {
      const t = new Date().toLocaleTimeString();
      logBox.textContent += `\n[${t}] ${msg}`;
      logBox.scrollTop = logBox.scrollHeight;
    }

    async function checkAPI() {
      try {
        const res = await fetch("/api/checker");
        const json = await res.json();

        if (json.status === "OK") log("✅ OK");
        else if (json.status === "ERROR") log("❌ ERROR — Sent to Discord");
        else log("⚠️ FAIL — API Error");
      } catch (err) {
        log("❌ FETCH FAILED");
      }
    }

    checkBtn.addEventListener("click", checkAPI);
    setInterval(checkAPI, 60000); // auto-check every 1 minute
  </script>
</body>
</html>
